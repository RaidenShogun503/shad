[General]
bypass-system = true

[Proxy]
# Nếu bạn không cần forward qua proxy khác thì để trống / comment
# Nếu muốn forward (ví dụ tới mitmproxy trên máy khác) thì uncomment và sửa IP:PORT
# mitm = custom, 192.168.88.8, 5000

[Host]
# ánh xạ host -> IP (giống hosts file)
yostar-serverinfo.bluearchiveyostar.com = 192.168.88.8
prod-noticeindex.bluearchiveyostar.com = 192.168.88.8
ba-jp-sdk.bluearchive.jp = 192.168.88.8
prod-gateway.bluearchiveyostar.com = 192.168.88.8
prod-game.bluearchiveyostar.com = 192.168.88.8
prod-logcollector.bluearchiveyostar.com = 192.168.88.8

[URL Rewrite]
# Redirect toàn bộ request tới host A về http://192.168.88.8:5000, giữ nguyên path và query
# Cú pháp: <pattern> <replacement> [code]
^https?:\/\/(?:www\.)?yostar-serverinfo\.bluearchiveyostar\.com(:\d+)?(\/.*)? http://192.168.88.8:5000$2 302
^https?:\/\/(?:www\.)?prod-noticeindex\.bluearchiveyostar\.com(:\d+)?(\/.*)? http://192.168.88.8:5000$2 302
^https?:\/\/(?:www\.)?ba-jp-sdk\.bluearchive\.jp(:\d+)?(\/.*)? http://192.168.88.8:5000$2 302
^https?:\/\/(?:www\.)?prod-gateway\.bluearchiveyostar\.com(:\d+)?(\/.*)? http://192.168.88.8:5000$2 302
^https?:\/\/(?:www\.)?prod-game\.bluearchiveyostar\.com(:\d+)?(\/.*)? http://192.168.88.8:5000$2 302
^https?:\/\/(?:www\.)?prod-logcollector\.bluearchiveyostar\.com(:\d+)?(\/.*)? http://192.168.88.8:5000$2 302

# Nếu bạn muốn block chính xác file blacklist.csv
^https?:\/\/.*\/blacklist\.csv reject

[Rule]
# Các domain cần REJECT
DOMAIN-SUFFIX,log.aliyuncs.com,REJECT
DOMAIN-SUFFIX,er.ns.aliyuncs.com,REJECT
DOMAIN-SUFFIX,toy.log.nexon.io,REJECT
DOMAIN-SUFFIX,m-api.nexon.com,REJECT

# Nếu bạn muốn reject thêm theo danh sách OTHER_KILL_HOST
URL-REGEX,blacklist\.csv,REJECT

# Cuối cùng
FINAL,DIRECT
